{"version":3,"sources":["../node_modules/devextreme/ui/drop_down_editor/ui.drop_down_editor.js","../node_modules/devextreme/ui/drop_down_editor/ui.drop_down_list.js","../node_modules/devextreme/ui/shared/async_template_mixin.js","../node_modules/devextreme/ui/drop_down_editor/ui.drop_down_button.js","../node_modules/devextreme/ui/editor/ui.data_expression.js"],"names":["$","__webpack_require__","AsyncTemplateMixin","eventsEngine","Guid","registerComponent","commonUtils","domUtils","focused","each","isDefined","extend","getPublicElement","errors","positionUtils","getDefaultAlignment","DropDownButton","default","messageLocalization","eventUtils","TextBox","clickEvent","FunctionTemplate","Popup","DropDownEditor","inherit","_supportedKeys","homeEndHandler","e","this","option","preventDefault","callBase","tab","$focusableElement","shiftKey","_getLastPopupElement","_getFirstPopupElement","trigger","close","escape","upArrow","stopPropagation","altKey","downArrow","_validatedOpening","enter","_valueChangeEventHandler","home","end","_getDefaultButtons","concat","name","Ctor","_getDefaultOptions","value","onOpened","onClosed","opened","acceptCustomValue","applyValueMode","deferRendering","activeStateEnabled","dropDownButtonTemplate","fieldTemplate","contentTemplate","openOnFieldClick","showDropDownButton","buttons","dropDownOptions","popupPosition","_getDefaultPopupPosition","onPopupInitialized","applyButtonText","format","cancelButtonText","buttonsLocation","showPopupTitle","position","offset","h","v","my","at","collision","_defaultOptionsRules","device","_device","platform","options","_inputWrapper","$element","find","_init","_initVisibilityActions","_initPopupInitializedAction","_initInnerOptionCache","_openAction","_createActionByOption","excludeValidators","_closeAction","_popupInitializedAction","_initMarkup","addClass","setAria","_render","_renderOpenHandler","_renderOpenedState","_renderContentImpl","_createPopup","_renderInput","wrapInner","_$container","children","eq","haspopup","autocomplete","_readOnlyPropValue","_cleanFocusState","off","_input","_getFieldTemplate","_getTemplateByOption","_renderField","_renderTemplatedField","_fieldRenderData","_renderPlaceholder","_renderValue","always","bind","data","_this","isFocused","$container","_disposeKeyboardProcessor","beforeButtonsContainerParent","_$beforeButtonsContainer","parentNode","afterButtonsContainerParent","_$afterButtonsContainer","removeChild","empty","$templateWrapper","appendTo","render","model","container","onRendered","length","Error","_refreshEvents","_refreshValueChangeEvent","_renderFocusState","prepend","append","_initTemplates","_defaultTemplates","dropDownButton","$icon","$inputWrapper","eventName","addNamespace","NAME","on","_getInputClickHandler","toggleClass","_openOnFieldClickAction","_createAction","_openHandler","that","_executeOpenAction","_focusInput","_toggleOpenState","event","_keyboardEventBindingTarget","isVisible","arguments","_setPopupOption","expanded","owns","_popupContentId","_$popup","_renderPopup","_renderPopupContent","_popup","_createComponent","_popupConfig","_getInnerOptionsCache","showing","_popupShowingHandler","shown","_popupShownHandler","hiding","_popupHidingHandler","hidden","_popupHiddenHandler","_contentReadyHandler","$content","_bindInnerWidgetOptions","noop","onInitialized","_popupInitializedHandler","of","showTitle","width","height","shading","closeOnTargetScroll","closeOnOutsideClick","_closeOutsideDropDownHandler","animation","show","type","duration","from","to","hide","focusStateEnabled","showCloseButton","toolbarItems","_getPopupToolbarItems","onPositioned","_popupPositionedHandler","fullScreen","popup","component","overlayContent","flip","_$validationMessage","dxOverlay","_getValidationMessagePosition","positionRequest","myTop","setup","top","popupTop","$popupContent","templateData","_ref","target","$target","getButton","$dropDownButton","isInputClicked","closest","isDropDownButtonClicked","_clean","remove","optionName","_setWidgetOption","_popupToolbarItemsConfig","_wrapper","_popupElementTabHandler","currentTarget","is","_popupElementEscHandler","_popupButtonInitializedHandler","registerKeyHandler","buttonsConfig","shortcut","onClick","_applyButtonHandler","text","_cancelButtonHandler","_applyButtonsLocation","resultConfig","splitPair","_","element","toolbar","location","focus","_updatePopupWidth","_popupOptionChanged","args","_getOptionsFromContainer","Object","keys","indexOf","_optionChanged","_invalidate","_updateButtons","_cacheInnerOptions","open","field","content","include","module","exports","_typeof","Symbol","iterator","obj","constructor","prototype","window","getWindow","typeUtils","inArray","List","devices","DataExpressionMixin","ChildDefaultTemplate","Deferred","DataConverterMixin","SEARCH_MODES","DropDownList","parent","_allowSelectItemByTab","_saveValueChangeEvent","$focusedItem","_list","_setSelectedElement","apply","space","_valueGetter","_getItemData","_setValue","_dataExpressionDefaultOptions","displayValue","searchEnabled","searchMode","searchTimeout","minSearchLength","searchExpr","valueChangeEvent","selectedItem","noDataText","onSelectionChanged","onItemClick","showDataBeforeSearch","grouped","groupTemplate","popupWidthExtension","version","_setOptionsByReference","_optionsByReference","_initDataExpressions","_initActions","_setListDataSource","_validateSearchMode","_clearSelectedItem","_initItems","items","_dataSource","_initContentReadyAction","_initSelectionChangedAction","_initItemClickAction","_contentReadyAction","_selectionChangedAction","_itemClickAction","item","_saveFocusOnWidget","initialOption","_popupWrapperClass","_renderInputValue","_getCurrentValue","_loadInputValue","_setSelectedItem","callback","_loadItem","cache","plainItems","itemByValue","_getPlainItems","forEach","grep","_isValueEquals","resolve","promise","_loadValue","i","push","_displayValue","ensureDefined","_displayGetter","_refreshSelected","_listItemElements","itemElement","$itemElement","itemValue","_isSelectedValue","selectItem","unselectItem","_setFocusPolicy","normalizedSearchMode","toLowerCase","_processDataSourceChanging","fail","_isCustomValueAllowed","reset","_clearFilter","_$list","templatesRenderAsynchronously","onShowing","onHidden","removeClass","autoResizeEnabled","maxHeight","_getMaxHeight","_renderList","_attachChildKeyboardEvents","_childKeyboardProcessor","_keyboardProcessor","attachChildProcessor","_setListOption","_fireContentReadyAction","_setAriaTargetForList","_getAriaTarget","_listId","_value","$list","attr","_listConfig","_refreshList","_renderPreventBlur","activedescendant","getFocusedItemId","_shouldRefreshDataSource","_needPassDataSourceToList","_isDesktopDevice","real","deviceType","selectionMode","_templates","templateProvider","onContentReady","_listContentReadyHandler","itemTemplate","indicateLoading","keyExpr","_getCollectionKeyExpr","displayExpr","_displayGetterExpr","tabIndex","_listItemClickAction","dataSource","_getDataSource","hoverStateEnabled","_dataSourceOptions","paginate","_getGroupedOption","_dataSourceFromUrlLoadMode","dxList","_dimensionChanged","_listItemClickHandler","_isMinSearchLengthExceeded","_searchValue","toString","val","_getSearchEvent","_getSetFocusPolicyEvent","_renderEvents","_shouldRenderSearchEvent","_searchHandler","_clearSearchTimer","_searchTimer","setTimeout","_searchDataSource","_searchCanceled","_filterDataSource","searchValue","searchOperation","load","done","_dataSourceFiltered","_refreshPopupVisibility","_shouldOpenPopup","_hasItemsToShow","shouldOpenPopup","_isFocused","_dataSourceChangedHandler","newItems","pageIndex","resultAmount","clearTimeout","_updatePopupDimensions","_updatePopupHeight","outerWidth","_needPopupRepaint","currentPageIndex","needRepaint","_pageIndex","repaint","updateDimensions","windowHeight","Math","max","outerHeight","min","_dispose","_setCollectionWidgetOption","_dataExpressionOptionChanged","_waitAsyncTemplates","_options","_asyncTemplatesTimers","timer","call","_cleanAsyncTemplatesTimer","timers","defineProperty","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_renderer2","_interopRequireDefault","_events_engine2","_button2","_button4","__esModule","ClearButton","_TextEditorButton","instance","TypeError","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","subClass","superClass","create","setPrototypeOf","_inherits","editor","_getOptions","_addToContainer","_legacyRender","visible","_isVisible","useInkRipple","disabled","template","$editor","variableWrapper","dataCoreUtils","DataHelperMixin","DataSourceModule","ArrayStore","valueExpr","_compileValueGetter","_compileDisplayGetter","_initDynamicTemplates","_initDataSource","_itemsToDataSource","DataSource","store","pageSize","compileGetter","_valueGetterExpr","deferred","_unwrappedValue","_loadSingle","reject","_getItemKey","unwrap","Array","isArray","result","n","value1","value2","dataSourceKey","_compareValues","_compareByCompositeKey","_compareByKey","isObject","unwrapObservable","valueKey1","valueKey2","toComparable","_setCollectionWidgetItemTemplate","isString","isFunction"],"mappings":"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","file":"static/js/3.5a65a689.chunk.js","sourcesContent":["/**\r\n * DevExtreme (ui/drop_down_editor/ui.drop_down_editor.js)\r\n * Version: 19.1.4\r\n * Build date: Mon Jun 17 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\"),\n    AsyncTemplateMixin = require(\"../shared/async_template_mixin\"),\n    eventsEngine = require(\"../../events/core/events_engine\"),\n    Guid = require(\"../../core/guid\"),\n    registerComponent = require(\"../../core/component_registrator\"),\n    commonUtils = require(\"../../core/utils/common\"),\n    domUtils = require(\"../../core/utils/dom\"),\n    focused = require(\"../widget/selectors\").focused,\n    each = require(\"../../core/utils/iterator\").each,\n    isDefined = require(\"../../core/utils/type\").isDefined,\n    extend = require(\"../../core/utils/extend\").extend,\n    getPublicElement = require(\"../../core/utils/dom\").getPublicElement,\n    errors = require(\"../widget/ui.errors\"),\n    positionUtils = require(\"../../animation/position\"),\n    getDefaultAlignment = require(\"../../core/utils/position\").getDefaultAlignment,\n    DropDownButton = require(\"./ui.drop_down_button\").default,\n    messageLocalization = require(\"../../localization/message\"),\n    eventUtils = require(\"../../events/utils\"),\n    TextBox = require(\"../text_box\"),\n    clickEvent = require(\"../../events/click\"),\n    FunctionTemplate = require(\"../widget/function_template\"),\n    Popup = require(\"../popup\");\n\nvar DROP_DOWN_EDITOR_CLASS = \"dx-dropdowneditor\",\n    DROP_DOWN_EDITOR_INPUT_WRAPPER = \"dx-dropdowneditor-input-wrapper\",\n    DROP_DOWN_EDITOR_BUTTON_ICON = \"dx-dropdowneditor-icon\",\n    DROP_DOWN_EDITOR_OVERLAY = \"dx-dropdowneditor-overlay\",\n    DROP_DOWN_EDITOR_OVERLAY_FLIPPED = \"dx-dropdowneditor-overlay-flipped\",\n    DROP_DOWN_EDITOR_ACTIVE = \"dx-dropdowneditor-active\",\n    DROP_DOWN_EDITOR_FIELD_CLICKABLE = \"dx-dropdowneditor-field-clickable\",\n    DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER = \"dx-dropdowneditor-field-template-wrapper\";\nvar DropDownEditor = TextBox.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var homeEndHandler = function homeEndHandler(e) {\n      if (this.option(\"opened\")) {\n        e.preventDefault();\n        return true;\n      }\n\n      return false;\n    };\n\n    return extend({}, this.callBase(), {\n      tab: function tab(e) {\n        if (!this.option(\"opened\")) {\n          return;\n        }\n\n        if (\"instantly\" === this.option(\"applyValueMode\")) {\n          this.close();\n          return;\n        }\n\n        var $focusableElement = e.shiftKey ? this._getLastPopupElement() : this._getFirstPopupElement();\n        $focusableElement && eventsEngine.trigger($focusableElement, \"focus\");\n        e.preventDefault();\n      },\n      escape: function escape(e) {\n        if (this.option(\"opened\")) {\n          e.preventDefault();\n        }\n\n        this.close();\n      },\n      upArrow: function upArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (e.altKey) {\n          this.close();\n          return false;\n        }\n\n        return true;\n      },\n      downArrow: function downArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (e.altKey) {\n          this._validatedOpening();\n\n          return false;\n        }\n\n        return true;\n      },\n      enter: function enter(e) {\n        if (this.option(\"opened\")) {\n          e.preventDefault();\n\n          this._valueChangeEventHandler(e);\n        }\n\n        return true;\n      },\n      home: homeEndHandler,\n      end: homeEndHandler\n    });\n  },\n  _getDefaultButtons: function _getDefaultButtons() {\n    return this.callBase().concat([{\n      name: \"dropDown\",\n      Ctor: DropDownButton\n    }]);\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      value: null,\n      onOpened: null,\n      onClosed: null,\n      opened: false,\n      acceptCustomValue: true,\n      applyValueMode: \"instantly\",\n      deferRendering: true,\n      activeStateEnabled: true,\n      dropDownButtonTemplate: \"dropDownButton\",\n      fieldTemplate: null,\n      contentTemplate: null,\n      openOnFieldClick: false,\n      showDropDownButton: true,\n      buttons: void 0,\n      dropDownOptions: {},\n      popupPosition: this._getDefaultPopupPosition(),\n      onPopupInitialized: null,\n      applyButtonText: messageLocalization.format(\"OK\"),\n      cancelButtonText: messageLocalization.format(\"Cancel\"),\n      buttonsLocation: \"default\",\n      showPopupTitle: false\n    });\n  },\n  _getDefaultPopupPosition: function _getDefaultPopupPosition() {\n    var position = getDefaultAlignment(this.option(\"rtlEnabled\"));\n    return {\n      offset: {\n        h: 0,\n        v: -1\n      },\n      my: position + \" top\",\n      at: position + \" bottom\",\n      collision: \"flip flip\"\n    };\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device(_device) {\n        var isGeneric = \"generic\" === _device.platform;\n        return isGeneric;\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: 0\n          }\n        }\n      }\n    }]);\n  },\n  _inputWrapper: function _inputWrapper() {\n    return this.$element().find(\".\" + DROP_DOWN_EDITOR_INPUT_WRAPPER);\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initVisibilityActions();\n\n    this._initPopupInitializedAction();\n\n    this._initInnerOptionCache(\"dropDownOptions\");\n  },\n  _initVisibilityActions: function _initVisibilityActions() {\n    this._openAction = this._createActionByOption(\"onOpened\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n    this._closeAction = this._createActionByOption(\"onClosed\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initPopupInitializedAction: function _initPopupInitializedAction() {\n    this._popupInitializedAction = this._createActionByOption(\"onPopupInitialized\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n    this.$element().addClass(DROP_DOWN_EDITOR_CLASS);\n    this.setAria(\"role\", \"combobox\");\n  },\n  _render: function _render() {\n    this.callBase();\n\n    this._renderOpenHandler();\n\n    this._renderOpenedState();\n  },\n  _renderContentImpl: function _renderContentImpl() {\n    if (!this.option(\"deferRendering\")) {\n      this._createPopup();\n    }\n  },\n  _renderInput: function _renderInput() {\n    this.callBase();\n    this.$element().wrapInner($(\"<div>\").addClass(DROP_DOWN_EDITOR_INPUT_WRAPPER));\n    this._$container = this.$element().children().eq(0);\n    this.setAria({\n      haspopup: \"true\",\n      autocomplete: \"list\"\n    });\n  },\n  _readOnlyPropValue: function _readOnlyPropValue() {\n    return !this.option(\"acceptCustomValue\") || this.callBase();\n  },\n  _cleanFocusState: function _cleanFocusState() {\n    this.callBase();\n\n    if (this.option(\"fieldTemplate\")) {\n      eventsEngine.off(this._input(), \"focusin focusout beforeactivate\");\n    }\n  },\n  _getFieldTemplate: function _getFieldTemplate() {\n    return this.option(\"fieldTemplate\") && this._getTemplateByOption(\"fieldTemplate\");\n  },\n  _renderField: function _renderField() {\n    var fieldTemplate = this._getFieldTemplate();\n\n    fieldTemplate && this._renderTemplatedField(fieldTemplate, this._fieldRenderData());\n  },\n  _renderPlaceholder: function _renderPlaceholder() {\n    var hasFieldTemplate = !!this._getFieldTemplate();\n\n    if (!hasFieldTemplate) {\n      this.callBase();\n    }\n  },\n  _renderValue: function _renderValue() {\n    var promise = this.callBase();\n    promise.always(this._renderField.bind(this));\n  },\n  _renderTemplatedField: function _renderTemplatedField(fieldTemplate, data) {\n    var _this = this;\n\n    var isFocused = focused(this._input());\n    var $container = this._$container;\n\n    this._disposeKeyboardProcessor();\n\n    var beforeButtonsContainerParent = this._$beforeButtonsContainer && this._$beforeButtonsContainer[0].parentNode;\n    var afterButtonsContainerParent = this._$afterButtonsContainer && this._$afterButtonsContainer[0].parentNode;\n    beforeButtonsContainerParent && beforeButtonsContainerParent.removeChild(this._$beforeButtonsContainer[0]);\n    afterButtonsContainerParent && afterButtonsContainerParent.removeChild(this._$afterButtonsContainer[0]);\n    $container.empty();\n    var $templateWrapper = $(\"<div>\").addClass(DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER).appendTo($container);\n    fieldTemplate.render({\n      model: data,\n      container: domUtils.getPublicElement($templateWrapper),\n      onRendered: function onRendered() {\n        if (!_this._input().length) {\n          throw errors.Error(\"E1010\");\n        }\n\n        _this._refreshEvents();\n\n        _this._refreshValueChangeEvent();\n\n        _this._renderFocusState();\n\n        isFocused && eventsEngine.trigger(_this._input(), \"focus\");\n      }\n    });\n    $container.prepend(this._$beforeButtonsContainer);\n    $container.append(this._$afterButtonsContainer);\n  },\n  _fieldRenderData: function _fieldRenderData() {\n    return this.option(\"value\");\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.dropDownButton = new FunctionTemplate(function (options) {\n      var $icon = $(\"<div>\").addClass(DROP_DOWN_EDITOR_BUTTON_ICON);\n      $(options.container).append($icon);\n    }, this);\n  },\n  _renderOpenHandler: function _renderOpenHandler() {\n    var that = this,\n        $inputWrapper = that._inputWrapper(),\n        eventName = eventUtils.addNamespace(clickEvent.name, that.NAME),\n        openOnFieldClick = that.option(\"openOnFieldClick\");\n\n    eventsEngine.off($inputWrapper, eventName);\n    eventsEngine.on($inputWrapper, eventName, that._getInputClickHandler(openOnFieldClick));\n    that.$element().toggleClass(DROP_DOWN_EDITOR_FIELD_CLICKABLE, openOnFieldClick);\n\n    if (openOnFieldClick) {\n      that._openOnFieldClickAction = that._createAction(that._openHandler.bind(that));\n    }\n  },\n  _getInputClickHandler: function _getInputClickHandler(openOnFieldClick) {\n    var that = this;\n    return openOnFieldClick ? function (e) {\n      that._executeOpenAction(e);\n    } : function (e) {\n      that._focusInput();\n    };\n  },\n  _openHandler: function _openHandler() {\n    this._toggleOpenState();\n  },\n  _executeOpenAction: function _executeOpenAction(e) {\n    this._openOnFieldClickAction({\n      event: e\n    });\n  },\n  _keyboardEventBindingTarget: function _keyboardEventBindingTarget() {\n    return this._input();\n  },\n  _focusInput: function _focusInput() {\n    if (this.option(\"disabled\")) {\n      return false;\n    }\n\n    if (this.option(\"focusStateEnabled\") && !focused(this._input())) {\n      eventsEngine.trigger(this._input(), \"focus\");\n    }\n\n    return true;\n  },\n  _toggleOpenState: function _toggleOpenState(isVisible) {\n    if (!this._focusInput()) {\n      return;\n    }\n\n    if (!this.option(\"readOnly\")) {\n      isVisible = arguments.length ? isVisible : !this.option(\"opened\");\n      this.option(\"opened\", isVisible);\n    }\n  },\n  _renderOpenedState: function _renderOpenedState() {\n    var opened = this.option(\"opened\");\n\n    if (opened) {\n      this._createPopup();\n    }\n\n    this.$element().toggleClass(DROP_DOWN_EDITOR_ACTIVE, opened);\n\n    this._setPopupOption(\"visible\", opened);\n\n    this.setAria({\n      expanded: opened,\n      owns: (opened || void 0) && this._popupContentId\n    });\n  },\n  _createPopup: function _createPopup() {\n    if (this._$popup) {\n      return;\n    }\n\n    this._$popup = $(\"<div>\").addClass(DROP_DOWN_EDITOR_OVERLAY).addClass(this.option(\"customOverlayCssClass\")).appendTo(this.$element());\n\n    this._renderPopup();\n\n    this._renderPopupContent();\n  },\n  _renderPopup: function _renderPopup() {\n    this._popup = this._createComponent(this._$popup, Popup, extend(this._popupConfig(), this._getInnerOptionsCache(\"dropDownOptions\")));\n\n    this._popup.on({\n      showing: this._popupShowingHandler.bind(this),\n      shown: this._popupShownHandler.bind(this),\n      hiding: this._popupHidingHandler.bind(this),\n      hidden: this._popupHiddenHandler.bind(this)\n    });\n\n    this._popup.option(\"onContentReady\", this._contentReadyHandler.bind(this));\n\n    this._contentReadyHandler();\n\n    this._popupContentId = \"dx-\" + new Guid();\n    this.setAria(\"id\", this._popupContentId, this._popup.$content());\n\n    this._bindInnerWidgetOptions(this._popup, \"dropDownOptions\");\n  },\n  _contentReadyHandler: commonUtils.noop,\n  _popupConfig: function _popupConfig() {\n    return {\n      onInitialized: this._popupInitializedHandler(),\n      position: extend(this.option(\"popupPosition\"), {\n        of: this.$element()\n      }),\n      showTitle: this.option(\"showPopupTitle\"),\n      width: \"auto\",\n      height: \"auto\",\n      shading: false,\n      closeOnTargetScroll: true,\n      closeOnOutsideClick: this._closeOutsideDropDownHandler.bind(this),\n      animation: {\n        show: {\n          type: \"fade\",\n          duration: 0,\n          from: 0,\n          to: 1\n        },\n        hide: {\n          type: \"fade\",\n          duration: 400,\n          from: 1,\n          to: 0\n        }\n      },\n      deferRendering: false,\n      focusStateEnabled: false,\n      showCloseButton: false,\n      toolbarItems: this._getPopupToolbarItems(),\n      onPositioned: this._popupPositionedHandler.bind(this),\n      fullScreen: false\n    };\n  },\n  _popupInitializedHandler: function _popupInitializedHandler() {\n    if (!this.option(\"onPopupInitialized\")) {\n      return;\n    }\n\n    return function (e) {\n      this._popupInitializedAction({\n        popup: e.component\n      });\n    }.bind(this);\n  },\n  _popupPositionedHandler: function _popupPositionedHandler(e) {\n    e.position && this._popup.overlayContent().toggleClass(DROP_DOWN_EDITOR_OVERLAY_FLIPPED, e.position.v.flip);\n  },\n  _popupShowingHandler: commonUtils.noop,\n  _popupHidingHandler: function _popupHidingHandler() {\n    this.option(\"opened\", false);\n  },\n  _popupShownHandler: function _popupShownHandler() {\n    this._openAction();\n\n    if (this._$validationMessage) {\n      this._$validationMessage.dxOverlay(\"option\", \"position\", this._getValidationMessagePosition());\n    }\n  },\n  _popupHiddenHandler: function _popupHiddenHandler() {\n    this._closeAction();\n\n    if (this._$validationMessage) {\n      this._$validationMessage.dxOverlay(\"option\", \"position\", this._getValidationMessagePosition());\n    }\n  },\n  _getValidationMessagePosition: function _getValidationMessagePosition() {\n    var positionRequest = \"below\";\n\n    if (this._popup && this._popup.option(\"visible\")) {\n      var myTop = positionUtils.setup(this.$element()).top,\n          popupTop = positionUtils.setup(this._popup.$content()).top;\n      positionRequest = myTop + this.option(\"popupPosition\").offset.v > popupTop ? \"below\" : \"above\";\n    }\n\n    return this.callBase(positionRequest);\n  },\n  _renderPopupContent: function _renderPopupContent() {\n    var contentTemplate = this._getTemplateByOption(\"contentTemplate\");\n\n    if (!(contentTemplate && this.option(\"contentTemplate\"))) {\n      return;\n    }\n\n    var $popupContent = this._popup.$content(),\n        templateData = {\n      value: this._fieldRenderData(),\n      component: this\n    };\n\n    $popupContent.empty();\n    contentTemplate.render({\n      container: domUtils.getPublicElement($popupContent),\n      model: templateData\n    });\n  },\n  _closeOutsideDropDownHandler: function _closeOutsideDropDownHandler(_ref) {\n    var target = _ref.target;\n    var $target = $(target);\n    var dropDownButton = this.getButton(\"dropDown\");\n    var $dropDownButton = dropDownButton && dropDownButton.$element();\n    var isInputClicked = !!$target.closest(this.$element()).length;\n    var isDropDownButtonClicked = !!$target.closest($dropDownButton).length;\n    var isOutsideClick = !isInputClicked && !isDropDownButtonClicked;\n    return isOutsideClick;\n  },\n  _clean: function _clean() {\n    delete this._openOnFieldClickAction;\n\n    if (this._$popup) {\n      this._$popup.remove();\n\n      delete this._$popup;\n      delete this._popup;\n    }\n\n    this.callBase();\n  },\n  _setPopupOption: function _setPopupOption(optionName, value) {\n    this._setWidgetOption(\"_popup\", arguments);\n  },\n  _validatedOpening: function _validatedOpening() {\n    if (!this.option(\"readOnly\")) {\n      this._toggleOpenState(true);\n    }\n  },\n  _getPopupToolbarItems: function _getPopupToolbarItems() {\n    return \"useButtons\" === this.option(\"applyValueMode\") ? this._popupToolbarItemsConfig() : [];\n  },\n  _getFirstPopupElement: function _getFirstPopupElement() {\n    return this._popup._wrapper().find(\".dx-popup-done.dx-button\");\n  },\n  _getLastPopupElement: function _getLastPopupElement() {\n    return this._popup._wrapper().find(\".dx-popup-cancel.dx-button\");\n  },\n  _popupElementTabHandler: function _popupElementTabHandler(e) {\n    var $element = $(e.currentTarget);\n\n    if (e.shiftKey && $element.is(this._getFirstPopupElement()) || !e.shiftKey && $element.is(this._getLastPopupElement())) {\n      eventsEngine.trigger(this._input(), \"focus\");\n      e.preventDefault();\n    }\n  },\n  _popupElementEscHandler: function _popupElementEscHandler() {\n    eventsEngine.trigger(this._input(), \"focus\");\n    this.close();\n  },\n  _popupButtonInitializedHandler: function _popupButtonInitializedHandler(e) {\n    e.component.registerKeyHandler(\"tab\", this._popupElementTabHandler.bind(this));\n    e.component.registerKeyHandler(\"escape\", this._popupElementEscHandler.bind(this));\n  },\n  _popupToolbarItemsConfig: function _popupToolbarItemsConfig() {\n    var buttonsConfig = [{\n      shortcut: \"done\",\n      options: {\n        onClick: this._applyButtonHandler.bind(this),\n        text: this.option(\"applyButtonText\"),\n        onInitialized: this._popupButtonInitializedHandler.bind(this)\n      }\n    }, {\n      shortcut: \"cancel\",\n      options: {\n        onClick: this._cancelButtonHandler.bind(this),\n        text: this.option(\"cancelButtonText\"),\n        onInitialized: this._popupButtonInitializedHandler.bind(this)\n      }\n    }];\n    return this._applyButtonsLocation(buttonsConfig);\n  },\n  _applyButtonsLocation: function _applyButtonsLocation(buttonsConfig) {\n    var buttonsLocation = this.option(\"buttonsLocation\"),\n        resultConfig = buttonsConfig;\n\n    if (\"default\" !== buttonsLocation) {\n      var position = commonUtils.splitPair(buttonsLocation);\n      each(resultConfig, function (_, element) {\n        extend(element, {\n          toolbar: position[0],\n          location: position[1]\n        });\n      });\n    }\n\n    return resultConfig;\n  },\n  _applyButtonHandler: function _applyButtonHandler() {\n    this.close();\n    this.option(\"focusStateEnabled\") && this.focus();\n  },\n  _cancelButtonHandler: function _cancelButtonHandler() {\n    this.close();\n    this.option(\"focusStateEnabled\") && this.focus();\n  },\n  _updatePopupWidth: commonUtils.noop,\n  _popupOptionChanged: function _popupOptionChanged(args) {\n    var options = this._getOptionsFromContainer(args);\n\n    this._setPopupOption(options);\n\n    if (Object.keys(options).indexOf(\"width\") !== -1 && void 0 === options.width) {\n      this._updatePopupWidth();\n    }\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"opened\":\n        this._renderOpenedState();\n\n        break;\n\n      case \"onOpened\":\n      case \"onClosed\":\n        this._initVisibilityActions();\n\n        break;\n\n      case \"onPopupInitialized\":\n        this._initPopupInitializedAction();\n\n        break;\n\n      case \"fieldTemplate\":\n        if (isDefined(args.value)) {\n          this._renderField();\n        } else {\n          this._invalidate();\n        }\n\n        break;\n\n      case \"contentTemplate\":\n      case \"acceptCustomValue\":\n      case \"openOnFieldClick\":\n        this._invalidate();\n\n        break;\n\n      case \"dropDownButtonTemplate\":\n      case \"showDropDownButton\":\n        this._updateButtons([\"dropDown\"]);\n\n        break;\n\n      case \"dropDownOptions\":\n        this._popupOptionChanged(args);\n\n        this._cacheInnerOptions(\"dropDownOptions\", args.value);\n\n        break;\n\n      case \"popupPosition\":\n      case \"deferRendering\":\n        break;\n\n      case \"applyValueMode\":\n      case \"applyButtonText\":\n      case \"cancelButtonText\":\n      case \"buttonsLocation\":\n        this._setPopupOption(\"toolbarItems\", this._getPopupToolbarItems());\n\n        break;\n\n      case \"showPopupTitle\":\n        this._setPopupOption(\"showTitle\", args.value);\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  open: function open() {\n    this.option(\"opened\", true);\n  },\n  close: function close() {\n    this.option(\"opened\", false);\n  },\n  field: function field() {\n    return getPublicElement(this._input());\n  },\n  content: function content() {\n    return this._popup ? this._popup.content() : null;\n  }\n}).include(AsyncTemplateMixin);\nregisterComponent(\"dxDropDownEditor\", DropDownEditor);\nmodule.exports = DropDownEditor;\nmodule.exports.default = module.exports;","/**\r\n * DevExtreme (ui/drop_down_editor/ui.drop_down_list.js)\r\n * Version: 19.1.4\r\n * Build date: Mon Jun 17 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _typeof = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar $ = require(\"../../core/renderer\"),\n    window = require(\"../../core/utils/window\").getWindow(),\n    eventsEngine = require(\"../../events/core/events_engine\"),\n    Guid = require(\"../../core/guid\"),\n    registerComponent = require(\"../../core/component_registrator\"),\n    commonUtils = require(\"../../core/utils/common\"),\n    typeUtils = require(\"../../core/utils/type\"),\n    extend = require(\"../../core/utils/extend\").extend,\n    inArray = require(\"../../core/utils/array\").inArray,\n    DropDownEditor = require(\"./ui.drop_down_editor\"),\n    List = require(\"../list\"),\n    errors = require(\"../widget/ui.errors\"),\n    eventUtils = require(\"../../events/utils\"),\n    devices = require(\"../../core/devices\"),\n    DataExpressionMixin = require(\"../editor/ui.data_expression\"),\n    messageLocalization = require(\"../../localization/message\"),\n    ChildDefaultTemplate = require(\"../widget/child_default_template\"),\n    Deferred = require(\"../../core/utils/deferred\").Deferred,\n    DataConverterMixin = require(\"../shared/grouped_data_converter_mixin\").default;\n\nvar LIST_ITEM_SELECTOR = \".dx-list-item\",\n    LIST_ITEM_DATA_KEY = \"dxListItemData\",\n    DROPDOWNLIST_POPUP_WRAPPER_CLASS = \"dx-dropdownlist-popup-wrapper\",\n    SKIP_GESTURE_EVENT_CLASS = \"dx-skip-gesture-event\",\n    SEARCH_EVENT = \"input\",\n    SEARCH_MODES = [\"startswith\", \"contains\", \"endwith\", \"notcontains\"];\nvar DropDownList = DropDownEditor.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var parent = this.callBase();\n    return extend({}, parent, {\n      tab: function tab(e) {\n        if (this._allowSelectItemByTab()) {\n          this._saveValueChangeEvent(e);\n\n          var $focusedItem = $(this._list.option(\"focusedElement\"));\n          $focusedItem.length && this._setSelectedElement($focusedItem);\n        }\n\n        parent.tab.apply(this, arguments);\n      },\n      space: commonUtils.noop,\n      home: commonUtils.noop,\n      end: commonUtils.noop\n    });\n  },\n  _allowSelectItemByTab: function _allowSelectItemByTab() {\n    return this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\");\n  },\n  _setSelectedElement: function _setSelectedElement($element) {\n    var value = this._valueGetter(this._list._getItemData($element));\n\n    this._setValue(value);\n  },\n  _setValue: function _setValue(value) {\n    this.option(\"value\", value);\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), extend(DataExpressionMixin._dataExpressionDefaultOptions(), {\n      displayValue: void 0,\n      searchEnabled: false,\n      searchMode: \"contains\",\n      searchTimeout: 500,\n      minSearchLength: 0,\n      searchExpr: null,\n      valueChangeEvent: \"input change keyup\",\n      selectedItem: null,\n      noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\n      onSelectionChanged: null,\n      onItemClick: commonUtils.noop,\n      showDataBeforeSearch: false,\n      grouped: false,\n      groupTemplate: \"group\",\n      popupPosition: {\n        my: \"left top\",\n        at: \"left bottom\",\n        offset: {\n          h: 0,\n          v: 0\n        },\n        collision: \"flip\"\n      },\n      popupWidthExtension: 0\n    }));\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device(_device) {\n        return \"win\" === _device.platform && _device.version && 8 === _device.version[0];\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: -6\n          }\n        }\n      }\n    }, {\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: -1\n          }\n        }\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        buttonsLocation: \"bottom center\"\n      }\n    }]);\n  },\n  _setOptionsByReference: function _setOptionsByReference() {\n    this.callBase();\n    extend(this._optionsByReference, {\n      value: true,\n      selectedItem: true,\n      displayValue: true\n    });\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initDataExpressions();\n\n    this._initActions();\n\n    this._setListDataSource();\n\n    this._validateSearchMode();\n\n    this._clearSelectedItem();\n\n    this._initItems();\n  },\n  _initItems: function _initItems() {\n    var items = this.option().items;\n\n    if (items && !items.length && this._dataSource) {\n      this.option().items = this._dataSource.items();\n    }\n  },\n  _initActions: function _initActions() {\n    this._initContentReadyAction();\n\n    this._initSelectionChangedAction();\n\n    this._initItemClickAction();\n  },\n  _initContentReadyAction: function _initContentReadyAction() {\n    this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initSelectionChangedAction: function _initSelectionChangedAction() {\n    this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initItemClickAction: function _initItemClickAction() {\n    this._itemClickAction = this._createActionByOption(\"onItemClick\");\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.item = new ChildDefaultTemplate(\"item\", this);\n  },\n  _saveFocusOnWidget: function _saveFocusOnWidget(e) {\n    if (this._list && this._list.initialOption(\"focusStateEnabled\")) {\n      this._focusInput();\n    }\n  },\n  _createPopup: function _createPopup() {\n    this.callBase();\n\n    this._popup._wrapper().addClass(this._popupWrapperClass());\n\n    var $popupContent = this._popup.$content();\n\n    eventsEngine.off($popupContent, \"mouseup\");\n    eventsEngine.on($popupContent, \"mouseup\", this._saveFocusOnWidget.bind(this));\n  },\n  _popupWrapperClass: function _popupWrapperClass() {\n    return DROPDOWNLIST_POPUP_WRAPPER_CLASS;\n  },\n  _renderInputValue: function _renderInputValue() {\n    var value = this._getCurrentValue();\n\n    return this._loadInputValue(value, this._setSelectedItem.bind(this)).always(this.callBase.bind(this, value));\n  },\n  _loadInputValue: function _loadInputValue(value, callback) {\n    return this._loadItem(value).always(callback);\n  },\n  _loadItem: function _loadItem(value, cache) {\n    var plainItems, selectedItem;\n\n    if (cache && \"object\" !== (\"undefined\" === typeof value ? \"undefined\" : _typeof(value))) {\n      if (!cache.itemByValue) {\n        cache.itemByValue = {};\n        plainItems = this._getPlainItems();\n        plainItems.forEach(function (item) {\n          cache.itemByValue[this._valueGetter(item)] = item;\n        }, this);\n      }\n\n      selectedItem = cache.itemByValue[value];\n    }\n\n    if (!selectedItem) {\n      plainItems = this._getPlainItems();\n      selectedItem = commonUtils.grep(plainItems, function (item) {\n        return this._isValueEquals(this._valueGetter(item), value);\n      }.bind(this))[0];\n    }\n\n    return void 0 !== selectedItem ? new Deferred().resolve(selectedItem).promise() : this._loadValue(value);\n  },\n  _getPlainItems: function _getPlainItems(items) {\n    var plainItems = [];\n    items = items || this.option(\"items\") || [];\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i] && items[i].items) {\n        plainItems = plainItems.concat(items[i].items);\n      } else {\n        plainItems.push(items[i]);\n      }\n    }\n\n    return plainItems;\n  },\n  _setSelectedItem: function _setSelectedItem(item) {\n    var displayValue = this._displayValue(item);\n\n    this.option(\"selectedItem\", commonUtils.ensureDefined(item, null));\n    this.option(\"displayValue\", displayValue);\n  },\n  _displayValue: function _displayValue(item) {\n    return this._displayGetter(item);\n  },\n  _refreshSelected: function _refreshSelected() {\n    var cache = {};\n\n    this._listItemElements().each(function (_, itemElement) {\n      var $itemElement = $(itemElement);\n\n      var itemValue = this._valueGetter($itemElement.data(LIST_ITEM_DATA_KEY));\n\n      var isItemSelected = this._isSelectedValue(itemValue, cache);\n\n      if (isItemSelected) {\n        this._list.selectItem($itemElement);\n      } else {\n        this._list.unselectItem($itemElement);\n      }\n    }.bind(this));\n  },\n  _popupShownHandler: function _popupShownHandler() {\n    this.callBase();\n\n    this._setFocusPolicy();\n  },\n  _setFocusPolicy: function _setFocusPolicy() {\n    if (!this.option(\"focusStateEnabled\") || !this._list) {\n      return;\n    }\n\n    this._list.option(\"focusedElement\", null);\n  },\n  _isSelectedValue: function _isSelectedValue(value) {\n    return this._isValueEquals(value, this.option(\"value\"));\n  },\n  _validateSearchMode: function _validateSearchMode() {\n    var searchMode = this.option(\"searchMode\"),\n        normalizedSearchMode = searchMode.toLowerCase();\n\n    if (inArray(normalizedSearchMode, SEARCH_MODES) < 0) {\n      throw errors.Error(\"E1019\", searchMode);\n    }\n  },\n  _clearSelectedItem: function _clearSelectedItem() {\n    this.option(\"selectedItem\", null);\n  },\n  _processDataSourceChanging: function _processDataSourceChanging() {\n    this._setListDataSource();\n\n    this._renderInputValue().fail(function () {\n      if (this._isCustomValueAllowed()) {\n        return;\n      }\n\n      this._clearSelectedItem();\n    }.bind(this));\n  },\n  _isCustomValueAllowed: function _isCustomValueAllowed() {\n    return this.option(\"displayCustomValue\");\n  },\n  reset: function reset() {\n    this.callBase();\n\n    this._clearFilter();\n\n    this._clearSelectedItem();\n  },\n  _listItemElements: function _listItemElements() {\n    return this._$list ? this._$list.find(LIST_ITEM_SELECTOR) : $();\n  },\n  _popupConfig: function _popupConfig() {\n    var that = this;\n    return extend(this.callBase(), {\n      templatesRenderAsynchronously: false,\n      width: this.option(\"width\"),\n      onShowing: function onShowing() {\n        that.$element().addClass(SKIP_GESTURE_EVENT_CLASS);\n      },\n      onHidden: function onHidden() {\n        that.$element().removeClass(SKIP_GESTURE_EVENT_CLASS);\n      },\n      height: \"auto\",\n      autoResizeEnabled: false,\n      maxHeight: this._getMaxHeight.bind(this)\n    });\n  },\n  _renderPopupContent: function _renderPopupContent() {\n    this._renderList();\n  },\n  _attachChildKeyboardEvents: function _attachChildKeyboardEvents() {\n    this._childKeyboardProcessor = this._keyboardProcessor.attachChildProcessor();\n\n    this._setListOption(\"_keyboardProcessor\", this._childKeyboardProcessor);\n  },\n  _fireContentReadyAction: commonUtils.noop,\n  _setAriaTargetForList: function _setAriaTargetForList() {\n    this._list._getAriaTarget = this._getAriaTarget.bind(this);\n\n    this._list.setAria(\"role\", \"combobox\");\n  },\n  _renderList: function _renderList() {\n    this._listId = \"dx-\" + new Guid()._value;\n    var $list = this._$list = $(\"<div>\").attr(\"id\", this._listId).appendTo(this._popup.$content());\n    this._list = this._createComponent($list, List, this._listConfig());\n\n    this._refreshList();\n\n    this._setAriaTargetForList();\n\n    this._renderPreventBlur(this._$list);\n  },\n  _renderPreventBlur: function _renderPreventBlur($target) {\n    var eventName = eventUtils.addNamespace(\"mousedown\", \"dxDropDownList\");\n    eventsEngine.off($target, eventName);\n    eventsEngine.on($target, eventName, function (e) {\n      e.preventDefault();\n    }.bind(this));\n  },\n  _renderOpenedState: function _renderOpenedState() {\n    this.callBase();\n    var opened = this.option(\"opened\") || void 0;\n    this.setAria({\n      activedescendant: opened && this._list.getFocusedItemId(),\n      owns: opened && this._listId\n    });\n  },\n  _refreshList: function _refreshList() {\n    if (this._list && this._shouldRefreshDataSource()) {\n      this._setListDataSource();\n    }\n  },\n  _shouldRefreshDataSource: function _shouldRefreshDataSource() {\n    var dataSourceProvided = !!this._list.option(\"dataSource\");\n    return dataSourceProvided !== this._needPassDataSourceToList();\n  },\n  _isDesktopDevice: function _isDesktopDevice() {\n    return \"desktop\" === devices.real().deviceType;\n  },\n  _listConfig: function _listConfig() {\n    var options = {\n      selectionMode: \"single\",\n      _templates: this.option(\"_templates\"),\n      templateProvider: this.option(\"templateProvider\"),\n      noDataText: this.option(\"noDataText\"),\n      grouped: this.option(\"grouped\"),\n      onContentReady: this._listContentReadyHandler.bind(this),\n      itemTemplate: this.option(\"itemTemplate\"),\n      indicateLoading: false,\n      keyExpr: this._getCollectionKeyExpr(),\n      displayExpr: this._displayGetterExpr(),\n      groupTemplate: this.option(\"groupTemplate\"),\n      tabIndex: null,\n      onItemClick: this._listItemClickAction.bind(this),\n      dataSource: this._getDataSource(),\n      _keyboardProcessor: this._childKeyboardProcessor,\n      hoverStateEnabled: this._isDesktopDevice() ? this.option(\"hoverStateEnabled\") : false,\n      focusStateEnabled: this._isDesktopDevice() ? this.option(\"focusStateEnabled\") : false\n    };\n    return options;\n  },\n  _getDataSource: function _getDataSource() {\n    return this._needPassDataSourceToList() ? this._dataSource : null;\n  },\n  _dataSourceOptions: function _dataSourceOptions() {\n    return {\n      paginate: false\n    };\n  },\n  _getGroupedOption: function _getGroupedOption() {\n    return this.option(\"grouped\");\n  },\n  _dataSourceFromUrlLoadMode: function _dataSourceFromUrlLoadMode() {\n    return \"raw\";\n  },\n  _listContentReadyHandler: function _listContentReadyHandler() {\n    this._list = this._list || this._$list.dxList(\"instance\");\n\n    if (!this.option(\"deferRendering\")) {\n      this._refreshSelected();\n    }\n\n    this._dimensionChanged();\n\n    this._contentReadyAction();\n  },\n  _setListOption: function _setListOption(optionName, value) {\n    this._setWidgetOption(\"_list\", arguments);\n  },\n  _listItemClickAction: function _listItemClickAction(e) {\n    this._listItemClickHandler(e);\n\n    this._itemClickAction(e);\n  },\n  _listItemClickHandler: commonUtils.noop,\n  _setListDataSource: function _setListDataSource() {\n    if (!this._list) {\n      return;\n    }\n\n    this._setListOption(\"dataSource\", this._getDataSource());\n\n    if (!this._needPassDataSourceToList()) {\n      this._setListOption(\"items\", []);\n    }\n  },\n  _needPassDataSourceToList: function _needPassDataSourceToList() {\n    return this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded();\n  },\n  _isMinSearchLengthExceeded: function _isMinSearchLengthExceeded() {\n    return this._searchValue().toString().length >= this.option(\"minSearchLength\");\n  },\n  _searchValue: function _searchValue() {\n    return this._input().val() || \"\";\n  },\n  _getSearchEvent: function _getSearchEvent() {\n    return eventUtils.addNamespace(SEARCH_EVENT, this.NAME + \"Search\");\n  },\n  _getSetFocusPolicyEvent: function _getSetFocusPolicyEvent() {\n    return eventUtils.addNamespace(\"input\", this.NAME + \"FocusPolicy\");\n  },\n  _renderEvents: function _renderEvents() {\n    this.callBase();\n    eventsEngine.on(this._input(), this._getSetFocusPolicyEvent(), this._setFocusPolicy.bind(this));\n\n    if (this._shouldRenderSearchEvent()) {\n      eventsEngine.on(this._input(), this._getSearchEvent(), this._searchHandler.bind(this));\n    }\n  },\n  _shouldRenderSearchEvent: function _shouldRenderSearchEvent() {\n    return this.option(\"searchEnabled\");\n  },\n  _refreshEvents: function _refreshEvents() {\n    eventsEngine.off(this._input(), this._getSearchEvent());\n    eventsEngine.off(this._input(), this._getSetFocusPolicyEvent());\n    this.callBase();\n  },\n  _searchHandler: function _searchHandler() {\n    if (!this._isMinSearchLengthExceeded()) {\n      this._searchCanceled();\n\n      return;\n    }\n\n    var searchTimeout = this.option(\"searchTimeout\");\n\n    if (searchTimeout) {\n      this._clearSearchTimer();\n\n      this._searchTimer = setTimeout(this._searchDataSource.bind(this), searchTimeout);\n    } else {\n      this._searchDataSource();\n    }\n  },\n  _searchCanceled: function _searchCanceled() {\n    this._clearSearchTimer();\n\n    if (this._needPassDataSourceToList()) {\n      this._filterDataSource(null);\n    }\n\n    this._refreshList();\n  },\n  _searchDataSource: function _searchDataSource() {\n    this._filterDataSource(this._searchValue());\n  },\n  _filterDataSource: function _filterDataSource(searchValue) {\n    this._clearSearchTimer();\n\n    var dataSource = this._dataSource;\n    dataSource.searchExpr(this.option(\"searchExpr\") || this._displayGetterExpr());\n    dataSource.searchOperation(this.option(\"searchMode\"));\n    dataSource.searchValue(searchValue);\n    return dataSource.load().done(this._dataSourceFiltered.bind(this, searchValue));\n  },\n  _clearFilter: function _clearFilter() {\n    var dataSource = this._dataSource;\n    dataSource && dataSource.searchValue() && dataSource.searchValue(null);\n  },\n  _dataSourceFiltered: function _dataSourceFiltered() {\n    this._refreshList();\n\n    this._refreshPopupVisibility();\n  },\n  _shouldOpenPopup: function _shouldOpenPopup() {\n    return this._hasItemsToShow();\n  },\n  _refreshPopupVisibility: function _refreshPopupVisibility() {\n    if (this.option(\"readOnly\") || !this._searchValue()) {\n      return;\n    }\n\n    var shouldOpenPopup = this._shouldOpenPopup();\n\n    if (shouldOpenPopup && !this._isFocused()) {\n      return;\n    }\n\n    this.option(\"opened\", shouldOpenPopup);\n\n    if (shouldOpenPopup) {\n      this._dimensionChanged();\n    }\n  },\n  _dataSourceChangedHandler: function _dataSourceChangedHandler(newItems) {\n    if (0 === this._dataSource.pageIndex()) {\n      this.option().items = newItems;\n    } else {\n      this.option().items = this.option().items.concat(newItems);\n    }\n  },\n  _hasItemsToShow: function _hasItemsToShow() {\n    var resultItems = this._dataSource && this._dataSource.items() || [];\n    var resultAmount = resultItems.length;\n\n    var isMinSearchLengthExceeded = this._needPassDataSourceToList();\n\n    return !!(isMinSearchLengthExceeded && resultAmount);\n  },\n  _clearSearchTimer: function _clearSearchTimer() {\n    clearTimeout(this._searchTimer);\n    delete this._searchTimer;\n  },\n  _popupShowingHandler: function _popupShowingHandler() {\n    this._dimensionChanged();\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    this._popup && this._updatePopupDimensions();\n  },\n  _updatePopupDimensions: function _updatePopupDimensions() {\n    this._updatePopupWidth();\n\n    this._updatePopupHeight();\n  },\n  _updatePopupWidth: function _updatePopupWidth() {\n    this._setPopupOption(\"width\", this.$element().outerWidth() + this.option(\"popupWidthExtension\"));\n  },\n  _needPopupRepaint: function _needPopupRepaint() {\n    if (!this._dataSource) {\n      return false;\n    }\n\n    var currentPageIndex = this._dataSource.pageIndex(),\n        needRepaint = typeUtils.isDefined(this._pageIndex) && currentPageIndex <= this._pageIndex;\n\n    this._pageIndex = currentPageIndex;\n    return needRepaint;\n  },\n  _updatePopupHeight: function _updatePopupHeight() {\n    if (this._needPopupRepaint()) {\n      this._popup.repaint();\n    }\n\n    this._list && this._list.updateDimensions();\n  },\n  _getMaxHeight: function _getMaxHeight() {\n    var $element = this.$element(),\n        offset = $element.offset(),\n        windowHeight = $(window).height(),\n        maxHeight = Math.max(offset.top, windowHeight - offset.top - $element.outerHeight());\n    return Math.min(.5 * windowHeight, maxHeight);\n  },\n  _clean: function _clean() {\n    if (this._list) {\n      delete this._list;\n    }\n\n    this.callBase();\n  },\n  _dispose: function _dispose() {\n    this._clearSearchTimer();\n\n    this.callBase();\n  },\n  _setCollectionWidgetOption: function _setCollectionWidgetOption() {\n    this._setListOption.apply(this, arguments);\n  },\n  _optionChanged: function _optionChanged(args) {\n    this._dataExpressionOptionChanged(args);\n\n    switch (args.name) {\n      case \"hoverStateEnabled\":\n      case \"focusStateEnabled\":\n        this._isDesktopDevice() && this._setListOption(args.name, args.value);\n        this.callBase(args);\n        break;\n\n      case \"items\":\n        if (!this.option(\"dataSource\")) {\n          this._processDataSourceChanging();\n        }\n\n        break;\n\n      case \"dataSource\":\n        this._processDataSourceChanging();\n\n        break;\n\n      case \"valueExpr\":\n        this._renderValue();\n\n        this._setListOption(\"keyExpr\", this._getCollectionKeyExpr());\n\n        break;\n\n      case \"displayExpr\":\n        this._renderValue();\n\n        this._setListOption(\"displayExpr\", this._displayGetterExpr());\n\n        break;\n\n      case \"searchMode\":\n        this._validateSearchMode();\n\n        break;\n\n      case \"minSearchLength\":\n        this._refreshList();\n\n        break;\n\n      case \"searchEnabled\":\n      case \"showDataBeforeSearch\":\n      case \"searchExpr\":\n        this._invalidate();\n\n        break;\n\n      case \"onContentReady\":\n        this._initContentReadyAction();\n\n        break;\n\n      case \"onSelectionChanged\":\n        this._initSelectionChangedAction();\n\n        break;\n\n      case \"onItemClick\":\n        this._initItemClickAction();\n\n        break;\n\n      case \"grouped\":\n      case \"groupTemplate\":\n      case \"noDataText\":\n        this._setListOption(args.name);\n\n        break;\n\n      case \"displayValue\":\n        this.option(\"text\", args.value);\n        break;\n\n      case \"itemTemplate\":\n      case \"searchTimeout\":\n      case \"popupWidthExtension\":\n        break;\n\n      case \"selectedItem\":\n        this._selectionChangedAction({\n          selectedItem: args.value\n        });\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n}).include(DataExpressionMixin, DataConverterMixin);\nregisterComponent(\"dxDropDownList\", DropDownList);\nmodule.exports = DropDownList;","/**\r\n * DevExtreme (ui/shared/async_template_mixin.js)\r\n * Version: 19.1.4\r\n * Build date: Mon Jun 17 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nmodule.exports = {\n  _waitAsyncTemplates: function _waitAsyncTemplates(callback) {\n    if (this._options.templatesRenderAsynchronously) {\n      this._asyncTemplatesTimers = this._asyncTemplatesTimers || [];\n      var timer = setTimeout(function () {\n        callback.call(this);\n        clearTimeout(timer);\n      }.bind(this));\n\n      this._asyncTemplatesTimers.push(timer);\n    } else {\n      callback.call(this);\n    }\n  },\n  _cleanAsyncTemplatesTimer: function _cleanAsyncTemplatesTimer() {\n    var timers = this._asyncTemplatesTimers || [];\n\n    for (var i = 0; i < timers.length; i++) {\n      clearTimeout(timers[i]);\n    }\n\n    delete this._asyncTemplatesTimers;\n  }\n};","/**\r\n * DevExtreme (ui/drop_down_editor/ui.drop_down_button.js)\r\n * Version: 19.1.4\r\n * Build date: Mon Jun 17 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n\n      if (\"value\" in descriptor) {\n        descriptor.writable = true;\n      }\n\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) {\n      defineProperties(Constructor.prototype, protoProps);\n    }\n\n    if (staticProps) {\n      defineProperties(Constructor, staticProps);\n    }\n\n    return Constructor;\n  };\n}();\n\nvar _get = function get(object, property, receiver) {\n  if (null === object) {\n    object = Function.prototype;\n  }\n\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (void 0 === desc) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (null === parent) {\n      return;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else {\n    if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (void 0 === getter) {\n        return;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _button = require(\"../text_box/texteditor_button_collection/button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _button3 = require(\"../button\");\n\nvar _button4 = _interopRequireDefault(_button3);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (\"object\" === typeof call || \"function\" === typeof call) ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n}\n\nvar DROP_DOWN_EDITOR_BUTTON_CLASS = \"dx-dropdowneditor-button\";\nvar DROP_DOWN_EDITOR_BUTTON_VISIBLE = \"dx-dropdowneditor-button-visible\";\n\nvar ClearButton = function (_TextEditorButton) {\n  _inherits(ClearButton, _TextEditorButton);\n\n  function ClearButton() {\n    _classCallCheck(this, ClearButton);\n\n    return _possibleConstructorReturn(this, (ClearButton.__proto__ || Object.getPrototypeOf(ClearButton)).apply(this, arguments));\n  }\n\n  _createClass(ClearButton, [{\n    key: \"_attachEvents\",\n    value: function value(instance) {\n      var editor = this.editor;\n      instance.option(\"onClick\", function (e) {\n        !editor.option(\"openOnFieldClick\") && editor._openHandler(e);\n      });\n\n      _events_engine2.default.on(instance.$element(), \"mousedown\", function (e) {\n        e.preventDefault();\n      });\n    }\n  }, {\n    key: \"_create\",\n    value: function value() {\n      var editor = this.editor;\n      var $element = (0, _renderer2.default)(\"<div>\");\n\n      var options = this._getOptions();\n\n      this._addToContainer($element);\n\n      var instance = editor._createComponent($element, _button4.default, options);\n\n      this._legacyRender(editor.$element(), $element, options.visible);\n\n      return {\n        $element: $element,\n        instance: instance\n      };\n    }\n  }, {\n    key: \"_getOptions\",\n    value: function value() {\n      var editor = this.editor;\n\n      var visible = this._isVisible();\n\n      var isReadOnly = editor.option(\"readOnly\");\n\n      var template = editor._getTemplateByOption(\"dropDownButtonTemplate\");\n\n      return {\n        focusStateEnabled: false,\n        hoverStateEnabled: false,\n        activeStateEnabled: false,\n        useInkRipple: false,\n        disabled: isReadOnly,\n        visible: visible,\n        template: template\n      };\n    }\n  }, {\n    key: \"_isVisible\",\n    value: function value() {\n      var editor = this.editor;\n      return _get(ClearButton.prototype.__proto__ || Object.getPrototypeOf(ClearButton.prototype), \"_isVisible\", this).call(this) && editor.option(\"showDropDownButton\");\n    }\n  }, {\n    key: \"_legacyRender\",\n    value: function value($editor, $element, isVisible) {\n      $editor.toggleClass(DROP_DOWN_EDITOR_BUTTON_VISIBLE, isVisible);\n\n      if ($element) {\n        $element.removeClass(\"dx-button\");\n        $element.addClass(DROP_DOWN_EDITOR_BUTTON_CLASS);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function value() {\n      var shouldUpdate = _get(ClearButton.prototype.__proto__ || Object.getPrototypeOf(ClearButton.prototype), \"update\", this).call(this);\n\n      if (shouldUpdate) {\n        var editor = this.editor,\n            instance = this.instance;\n        var $editor = editor.$element();\n\n        var options = this._getOptions();\n\n        instance && instance.option(options);\n\n        this._legacyRender($editor, instance && instance.$element(), options.visible);\n      }\n    }\n  }]);\n\n  return ClearButton;\n}(_button2.default);\n\nexports.default = ClearButton;","/**\r\n * DevExtreme (ui/editor/ui.data_expression.js)\r\n * Version: 19.1.4\r\n * Build date: Mon Jun 17 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _typeof = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar variableWrapper = require(\"../../core/utils/variable_wrapper\"),\n    dataCoreUtils = require(\"../../core/utils/data\"),\n    commonUtils = require(\"../../core/utils/common\"),\n    typeUtils = require(\"../../core/utils/type\"),\n    extend = require(\"../../core/utils/extend\").extend,\n    DataHelperMixin = require(\"../../data_helper\"),\n    DataSourceModule = require(\"../../data/data_source/data_source\"),\n    ArrayStore = require(\"../../data/array_store\"),\n    Deferred = require(\"../../core/utils/deferred\").Deferred;\n\nvar DataExpressionMixin = extend({}, DataHelperMixin, {\n  _dataExpressionDefaultOptions: function _dataExpressionDefaultOptions() {\n    return {\n      items: [],\n      dataSource: null,\n      itemTemplate: \"item\",\n      value: null,\n      valueExpr: \"this\",\n      displayExpr: void 0\n    };\n  },\n  _initDataExpressions: function _initDataExpressions() {\n    this._compileValueGetter();\n\n    this._compileDisplayGetter();\n\n    this._initDynamicTemplates();\n\n    this._initDataSource();\n\n    this._itemsToDataSource();\n  },\n  _itemsToDataSource: function _itemsToDataSource() {\n    if (!this.option(\"dataSource\")) {\n      this._dataSource = new DataSourceModule.DataSource({\n        store: new ArrayStore(this.option(\"items\")),\n        pageSize: 0\n      });\n    }\n  },\n  _compileDisplayGetter: function _compileDisplayGetter() {\n    this._displayGetter = dataCoreUtils.compileGetter(this._displayGetterExpr());\n  },\n  _displayGetterExpr: function _displayGetterExpr() {\n    return this.option(\"displayExpr\");\n  },\n  _compileValueGetter: function _compileValueGetter() {\n    this._valueGetter = dataCoreUtils.compileGetter(this._valueGetterExpr());\n  },\n  _valueGetterExpr: function _valueGetterExpr() {\n    return this.option(\"valueExpr\") || \"this\";\n  },\n  _loadValue: function _loadValue(value) {\n    var deferred = new Deferred();\n    value = this._unwrappedValue(value);\n\n    if (!typeUtils.isDefined(value)) {\n      return deferred.reject().promise();\n    }\n\n    this._loadSingle(this._valueGetterExpr(), value).done(function (item) {\n      this._isValueEquals(this._valueGetter(item), value) ? deferred.resolve(item) : deferred.reject();\n    }.bind(this)).fail(function () {\n      deferred.reject();\n    });\n\n    return deferred.promise();\n  },\n  _getCurrentValue: function _getCurrentValue() {\n    return this.option(\"value\");\n  },\n  _unwrappedValue: function _unwrappedValue(value) {\n    value = typeUtils.isDefined(value) ? value : this._getCurrentValue();\n\n    if (value && this._dataSource && \"this\" === this._valueGetterExpr()) {\n      value = this._getItemKey(value);\n    }\n\n    return variableWrapper.unwrap(value);\n  },\n  _getItemKey: function _getItemKey(value) {\n    var key = this._dataSource.key();\n\n    if (Array.isArray(key)) {\n      var result = {};\n\n      for (var i = 0, n = key.length; i < n; i++) {\n        result[key[i]] = value[key[i]];\n      }\n\n      return result;\n    }\n\n    if (key && \"object\" === (\"undefined\" === typeof value ? \"undefined\" : _typeof(value))) {\n      value = value[key];\n    }\n\n    return value;\n  },\n  _isValueEquals: function _isValueEquals(value1, value2) {\n    var dataSourceKey = this._dataSource && this._dataSource.key();\n\n    var isDefined = typeUtils.isDefined;\n\n    var result = this._compareValues(value1, value2);\n\n    if (!result && dataSourceKey && isDefined(value1) && isDefined(value2)) {\n      if (Array.isArray(dataSourceKey)) {\n        result = this._compareByCompositeKey(value1, value2, dataSourceKey);\n      } else {\n        result = this._compareByKey(value1, value2, dataSourceKey);\n      }\n    }\n\n    return result;\n  },\n  _compareByCompositeKey: function _compareByCompositeKey(value1, value2, key) {\n    var isObject = typeUtils.isObject;\n\n    if (!isObject(value1) || !isObject(value2)) {\n      return false;\n    }\n\n    for (var i = 0, n = key.length; i < n; i++) {\n      if (value1[key[i]] !== value2[key[i]]) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n  _compareByKey: function _compareByKey(value1, value2, key) {\n    var ensureDefined = commonUtils.ensureDefined;\n    var unwrapObservable = variableWrapper.unwrap;\n    var valueKey1 = ensureDefined(unwrapObservable(value1[key]), value1);\n    var valueKey2 = ensureDefined(unwrapObservable(value2[key]), value2);\n    return this._compareValues(valueKey1, valueKey2);\n  },\n  _compareValues: function _compareValues(value1, value2) {\n    return dataCoreUtils.toComparable(value1, true) === dataCoreUtils.toComparable(value2, true);\n  },\n  _initDynamicTemplates: commonUtils.noop,\n  _setCollectionWidgetItemTemplate: function _setCollectionWidgetItemTemplate() {\n    this._initDynamicTemplates();\n\n    this._setCollectionWidgetOption(\"itemTemplate\", this.option(\"itemTemplate\"));\n  },\n  _getCollectionKeyExpr: function _getCollectionKeyExpr() {\n    var valueExpr = this.option(\"valueExpr\");\n    var isValueExprField = typeUtils.isString(valueExpr) && \"this\" !== valueExpr || typeUtils.isFunction(valueExpr);\n    return isValueExprField ? valueExpr : null;\n  },\n  _dataExpressionOptionChanged: function _dataExpressionOptionChanged(args) {\n    switch (args.name) {\n      case \"items\":\n        this._itemsToDataSource();\n\n        this._setCollectionWidgetOption(\"items\");\n\n        break;\n\n      case \"dataSource\":\n        this._initDataSource();\n\n        break;\n\n      case \"itemTemplate\":\n        this._setCollectionWidgetItemTemplate();\n\n        break;\n\n      case \"valueExpr\":\n        this._compileValueGetter();\n\n        break;\n\n      case \"displayExpr\":\n        this._compileDisplayGetter();\n\n        this._initDynamicTemplates();\n\n        this._setCollectionWidgetOption(\"displayExpr\");\n\n    }\n  }\n});\nmodule.exports = DataExpressionMixin;"],"sourceRoot":""}