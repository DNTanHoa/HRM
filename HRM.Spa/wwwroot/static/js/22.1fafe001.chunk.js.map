{"version":3,"sources":["../node_modules/app-player-react/dist/widgets/file-image-widget/file-image-desktop.js","../node_modules/app-player-react/dist/widgets/file-image-widget/file-dialog.js","../node_modules/devextreme-react/context-menu.js","../node_modules/app-player-react/dist/widgets/file-image-widget/file-image-props.js","../node_modules/app-player-react/dist/widgets/file-image-widget/file-image-container.js"],"names":["__webpack_require__","r","__webpack_exports__","d","ReactDesktopFileImage","tslib__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","devextreme_react_ui_button__WEBPACK_IMPORTED_MODULE_2__","devextreme_react_ui_button__WEBPACK_IMPORTED_MODULE_2___default","n","devextreme_react_context_menu__WEBPACK_IMPORTED_MODULE_3__","devextreme_react_context_menu__WEBPACK_IMPORTED_MODULE_3___default","_file_image_props__WEBPACK_IMPORTED_MODULE_4__","_with_style__WEBPACK_IMPORTED_MODULE_5__","_file_dialog__WEBPACK_IMPORTED_MODULE_6__","_file_image_container__WEBPACK_IMPORTED_MODULE_7__","reselect__WEBPACK_IMPORTED_MODULE_8__","MenuButton","_super","props","_this","call","this","contextMenuRef","onClick","setState","state","isContextMenuVisible","current","instance","show","onMenuVisibleChange","visible","onContextHiding","onItemClick","e","hide","itemData","itemClick","position","my","at","prototype","render","_a","icon","items","a","type","ref","onHiding","showEvent","closeOnOutsideClick","target","containerElement","WithStyle","Object","main","overflow","display","& .dx-button","top","right","&.xaf-file-image-border","backgroundColor","getMenuItems","clearValue","text","args","openDialog","eventArgs","fileInputRef","open","containerRef","setHover","isHover","setUnhover","isMenuVisible","className","classes","hoverClass","style","onMouseEnter","onMouseLeave","src","value","onValueChanged","isEmpty","updateValue","readOnly","renderedWidget","onFileSelected","getFileDataUrl","FileDialog","imageType","file","onResult","fr","FileReader","onload","result","readAsDataURL","apply","arguments","event","stopPropagation","click","fileSelected","filesHolder","files","i","length","match","_handleFiles","dataUrl","accept","onChange","__extends","_extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","defineProperty","exports","context_menu_1","prop_types_1","component_1","nested_option_1","ContextMenu","_WidgetClass","default","_defaults","defaultItems","defaultSelectedItem","defaultVisible","_expectedChildren","animation","optionName","isCollectionItem","item","showSubmenuMode","_templateProps","tmplOption","component","keyFn","get","_instance","enumerable","configurable","Component","propTypes","accessKey","PropTypes","string","activeStateEnabled","bool","object","oneOfType","func","cssClass","dataSource","array","disabled","disabledExpr","displayExpr","elementAttr","focusStateEnabled","height","number","hint","hoverStateEnabled","itemsExpr","onContentReady","onDisposing","onHidden","onInitialized","onItemContextMenu","onItemRendered","onOptionChanged","onPositioning","onSelectionChanged","onShowing","onShown","rtlEnabled","selectByClick","selectedExpr","selectedItem","selectionMode","oneOf","submenuDirection","tabIndex","width","Animation","OptionName","ExpectedChildren","At","BoundaryOffset","Collision","Delay","Hide","Item","IsCollectionItem","TemplateProps","My","Offset","Position","boundaryOffset","collision","offset","Show","ShowEvent","ShowSubmenuMode","delay","imageBorder","border","FileImageContainer","_file_dialog__WEBPACK_IMPORTED_MODULE_2__","_with_style__WEBPACK_IMPORTED_MODULE_3__","minHeight","minWidth","image","onImageError","errorUrl","imageValue","ignoredSrc","onEditFileRequest","componentDidMount","syncValueWithDataUrl","getImageSrc","_b","imageSrc","onError","children","defaultProps"],"mappings":"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","file":"static/js/22.1fafe001.chunk.js","sourcesContent":["/*! eXpressApp Framework\n * @version v2018 vol 2\n * @link https://www.devexpress.com\n * @license https://www.devexpress.com/Support/EULAs/universal.xml \n * Copyright (C) 2000-2018 Developer Express Inc.  ALL RIGHTS RESERVED\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport Button from \"devextreme-react/ui/button\";\nimport ContextMenu from \"devextreme-react/context-menu\";\nimport { imageBorder } from \"./file-image-props\";\nimport { createWithStyleComponent } from \"../with-style\";\nimport { FileDialog } from \"./file-dialog\";\nimport { FileImageContainer } from \"./file-image-container\";\nimport { createSelector } from \"reselect\";\n\nvar MenuButton =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MenuButton, _super);\n\n  function MenuButton(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.contextMenuRef = React.createRef();\n\n    _this.onClick = function () {\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          isContextMenuVisible: true\n        });\n      });\n\n      _this.contextMenuRef.current.instance.show();\n\n      _this.props.onMenuVisibleChange({\n        visible: true\n      });\n    };\n\n    _this.onContextHiding = function () {\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          isContextMenuVisible: false\n        });\n      });\n\n      _this.props.onMenuVisibleChange({\n        visible: false\n      });\n    };\n\n    _this.onItemClick = function (e) {\n      _this.contextMenuRef.current.instance.hide();\n\n      e.itemData.itemClick(e);\n    };\n\n    _this.position = {\n      my: \"right top\",\n      at: \"right bottom\"\n    }; // Vitik dont inline position into markup it lead to props changing\n\n    _this.state = {\n      isContextMenuVisible: false\n    };\n    return _this;\n  }\n\n  MenuButton.prototype.render = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        items = _a.items,\n        visible = this.props.visible || this.state.isContextMenuVisible;\n    return React.createElement(React.Fragment, null, React.createElement(Button, {\n      icon: icon,\n      onClick: this.onClick,\n      type: \"default\",\n      visible: visible\n    }), React.createElement(ContextMenu, {\n      items: items,\n      ref: this.contextMenuRef,\n      onHiding: this.onContextHiding,\n      onItemClick: this.onItemClick,\n      showEvent: \"none\",\n      closeOnOutsideClick: true,\n      target: this.props.containerElement.current,\n      position: this.position\n    }));\n  };\n\n  return MenuButton;\n}(React.PureComponent);\n\nvar WithStyle = createWithStyleComponent({\n  main: {\n    position: \"relative\",\n    overflow: \"hidden\",\n    display: \"table-cell\",\n    \"& .dx-button\": {\n      position: \"absolute\",\n      top: 2,\n      right: 2\n    },\n    \"&.xaf-file-image-border\": tslib_1.__assign({}, imageBorder, {\n      backgroundColor: \"transparent\"\n    })\n  }\n});\n\nvar ReactDesktopFileImage =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ReactDesktopFileImage, _super);\n\n  function ReactDesktopFileImage(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.getMenuItems = createSelector([function (clearValue) {\n      return clearValue;\n    }], function (clearValue) {\n      return [{\n        text: \"Change\",\n        icon: \"image\",\n        itemClick: function itemClick(args) {\n          _this.openDialog(args);\n        }\n      }, {\n        text: \"Remove\",\n        icon: \"trash\",\n        itemClick: clearValue\n      }];\n    });\n\n    _this.openDialog = function (eventArgs) {\n      _this.fileInputRef.current.open(eventArgs);\n    };\n\n    _this.fileInputRef = React.createRef();\n    _this.containerRef = React.createRef();\n\n    _this.setHover = function () {\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          isHover: true\n        });\n      });\n    };\n\n    _this.setUnhover = function () {\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          isHover: false\n        });\n      });\n    };\n\n    _this.onMenuVisibleChange = function (_a) {\n      var visible = _a.visible;\n\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          isMenuVisible: visible\n        });\n      });\n    };\n\n    _this.state = {\n      isMenuVisible: false\n    };\n    return _this;\n  }\n\n  ReactDesktopFileImage.prototype.render = function () {\n    var _this = this;\n\n    return React.createElement(WithStyle, {\n      className: this.props.className\n    }, function (classes) {\n      var hoverClass = _this.state.isHover || _this.state.isMenuVisible ? \" dx-state-focused\" : \"\";\n      return React.createElement(\"div\", {\n        style: _this.props.style,\n        className: classes.main + \" \" + hoverClass + \"  dx-texteditor dx-editor-filled dx-widget xaf-file-image-border\",\n        onMouseEnter: _this.setHover,\n        onMouseLeave: _this.setUnhover\n      }, React.createElement(FileImageContainer, {\n        src: _this.props.src,\n        value: _this.props.value,\n        onValueChanged: _this.props.onValueChanged,\n        containerRef: _this.containerRef\n      }, function (_a) {\n        var isEmpty = _a.isEmpty,\n            updateValue = _a.updateValue,\n            clearValue = _a.clearValue;\n\n        if (_this.props.readOnly) {\n          return null;\n        } else {\n          var renderedWidget = !isEmpty ? React.createElement(MenuButton, {\n            onMenuVisibleChange: _this.onMenuVisibleChange,\n            icon: \"overflow\",\n            visible: _this.state.isHover,\n            items: _this.getMenuItems(clearValue),\n            containerElement: _this.containerRef\n          }) : React.createElement(Button, {\n            icon: \"upload\",\n            visible: _this.state.isHover,\n            onClick: _this.openDialog,\n            type: \"default\"\n          });\n          return React.createElement(React.Fragment, null, React.createElement(FileDialog, {\n            onFileSelected: updateValue,\n            ref: _this.fileInputRef\n          }), renderedWidget);\n        }\n      }));\n    });\n  };\n\n  return ReactDesktopFileImage;\n}(React.PureComponent);\n\nexport { ReactDesktopFileImage };","/*! eXpressApp Framework\n * @version v2018 vol 2\n * @link https://www.devexpress.com\n * @license https://www.devexpress.com/Support/EULAs/universal.xml \n * Copyright (C) 2000-2018 Developer Express Inc.  ALL RIGHTS RESERVED\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nvar imageType = /image.*/;\n\nfunction _handleFiles(filesHolder) {\n  var files = filesHolder.files;\n\n  for (var i = 0; i < files.length; i++) {\n    var file = files[i];\n\n    if (!file.type.match(imageType)) {\n      continue;\n    }\n\n    return file;\n  }\n\n  return null;\n}\n\nexport function getFileDataUrl(file, onResult) {\n  var fr = new FileReader();\n\n  fr.onload = function () {\n    onResult(fr.result);\n  };\n\n  fr.readAsDataURL(file);\n}\n\nvar FileDialog =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FileDialog, _super);\n\n  function FileDialog() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.fileInputRef = React.createRef();\n\n    _this.open = function (eventArgs) {\n      eventArgs.event.stopPropagation();\n\n      _this.fileInputRef.current.click();\n    };\n\n    _this.fileSelected = function (event) {\n      var file = _handleFiles(event.target); // onChange event doesnt raise for same value so clear it.\n\n\n      event.target.value = null;\n      getFileDataUrl(file, function (dataUrl) {\n        _this.props.onFileSelected({\n          dataUrl: dataUrl,\n          file: file\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  FileDialog.prototype.render = function () {\n    return React.createElement(\"input\", {\n      type: \"file\",\n      accept: \"image/x\",\n      style: {\n        display: \"none\"\n      },\n      onChange: this.fileSelected,\n      ref: this.fileInputRef\n    });\n  };\n\n  return FileDialog;\n}(React.PureComponent);\n\nexport { FileDialog };","/*!\n * devextreme-react\n * Version: 19.1.4\n * Build date: Mon Jun 17 2019\n *\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar context_menu_1 = require(\"devextreme/ui/context_menu\");\n\nvar prop_types_1 = require(\"prop-types\");\n\nvar component_1 = require(\"./core/component\");\n\nvar nested_option_1 = require(\"./core/nested-option\");\n\nvar ContextMenu =\n/** @class */\nfunction (_super) {\n  __extends(ContextMenu, _super);\n\n  function ContextMenu() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._WidgetClass = context_menu_1.default;\n    _this._defaults = {\n      defaultItems: \"items\",\n      defaultSelectedItem: \"selectedItem\",\n      defaultVisible: \"visible\"\n    };\n    _this._expectedChildren = {\n      animation: {\n        optionName: \"animation\",\n        isCollectionItem: false\n      },\n      item: {\n        optionName: \"items\",\n        isCollectionItem: true\n      },\n      position: {\n        optionName: \"position\",\n        isCollectionItem: false\n      },\n      showEvent: {\n        optionName: \"showEvent\",\n        isCollectionItem: false\n      },\n      showSubmenuMode: {\n        optionName: \"showSubmenuMode\",\n        isCollectionItem: false\n      }\n    };\n    _this._templateProps = [{\n      tmplOption: \"itemTemplate\",\n      render: \"itemRender\",\n      component: \"itemComponent\",\n      keyFn: \"itemKeyFn\"\n    }];\n    return _this;\n  }\n\n  Object.defineProperty(ContextMenu.prototype, \"instance\", {\n    get: function get() {\n      return this._instance;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return ContextMenu;\n}(component_1.Component);\n\nexports.ContextMenu = ContextMenu;\nContextMenu.propTypes = {\n  accessKey: prop_types_1.PropTypes.string,\n  activeStateEnabled: prop_types_1.PropTypes.bool,\n  animation: prop_types_1.PropTypes.object,\n  closeOnOutsideClick: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.bool, prop_types_1.PropTypes.func]),\n  cssClass: prop_types_1.PropTypes.string,\n  dataSource: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.array, prop_types_1.PropTypes.object, prop_types_1.PropTypes.string]),\n  disabled: prop_types_1.PropTypes.bool,\n  disabledExpr: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.string]),\n  displayExpr: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.string]),\n  elementAttr: prop_types_1.PropTypes.object,\n  focusStateEnabled: prop_types_1.PropTypes.bool,\n  height: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.number, prop_types_1.PropTypes.string]),\n  hint: prop_types_1.PropTypes.string,\n  hoverStateEnabled: prop_types_1.PropTypes.bool,\n  items: prop_types_1.PropTypes.array,\n  itemsExpr: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.string]),\n  onContentReady: prop_types_1.PropTypes.func,\n  onDisposing: prop_types_1.PropTypes.func,\n  onHidden: prop_types_1.PropTypes.func,\n  onHiding: prop_types_1.PropTypes.func,\n  onInitialized: prop_types_1.PropTypes.func,\n  onItemClick: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.string]),\n  onItemContextMenu: prop_types_1.PropTypes.func,\n  onItemRendered: prop_types_1.PropTypes.func,\n  onOptionChanged: prop_types_1.PropTypes.func,\n  onPositioning: prop_types_1.PropTypes.func,\n  onSelectionChanged: prop_types_1.PropTypes.func,\n  onShowing: prop_types_1.PropTypes.func,\n  onShown: prop_types_1.PropTypes.func,\n  position: prop_types_1.PropTypes.object,\n  rtlEnabled: prop_types_1.PropTypes.bool,\n  selectByClick: prop_types_1.PropTypes.bool,\n  selectedExpr: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.string]),\n  selectedItem: prop_types_1.PropTypes.object,\n  selectionMode: prop_types_1.PropTypes.oneOf([\"none\", \"single\"]),\n  showEvent: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.object, prop_types_1.PropTypes.string]),\n  showSubmenuMode: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.object, prop_types_1.PropTypes.oneOf([\"onClick\", \"onHover\"])]),\n  submenuDirection: prop_types_1.PropTypes.oneOf([\"auto\", \"left\", \"right\"]),\n  tabIndex: prop_types_1.PropTypes.number,\n  visible: prop_types_1.PropTypes.bool,\n  width: prop_types_1.PropTypes.oneOfType([prop_types_1.PropTypes.func, prop_types_1.PropTypes.number, prop_types_1.PropTypes.string])\n}; // tslint:disable:max-classes-per-file\n// owners:\n// ContextMenu\n\nvar Animation =\n/** @class */\nfunction (_super) {\n  __extends(Animation, _super);\n\n  function Animation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Animation.OptionName = \"animation\";\n  Animation.ExpectedChildren = {\n    hide: {\n      optionName: \"hide\",\n      isCollectionItem: false\n    },\n    show: {\n      optionName: \"show\",\n      isCollectionItem: false\n    }\n  };\n  return Animation;\n}(nested_option_1.default);\n\nexports.Animation = Animation; // owners:\n// Position\n\nvar At =\n/** @class */\nfunction (_super) {\n  __extends(At, _super);\n\n  function At() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  At.OptionName = \"at\";\n  return At;\n}(nested_option_1.default);\n\nexports.At = At; // owners:\n// Position\n\nvar BoundaryOffset =\n/** @class */\nfunction (_super) {\n  __extends(BoundaryOffset, _super);\n\n  function BoundaryOffset() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  BoundaryOffset.OptionName = \"boundaryOffset\";\n  return BoundaryOffset;\n}(nested_option_1.default);\n\nexports.BoundaryOffset = BoundaryOffset; // owners:\n// Position\n\nvar Collision =\n/** @class */\nfunction (_super) {\n  __extends(Collision, _super);\n\n  function Collision() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Collision.OptionName = \"collision\";\n  return Collision;\n}(nested_option_1.default);\n\nexports.Collision = Collision; // owners:\n// ShowSubmenuMode\n\nvar Delay =\n/** @class */\nfunction (_super) {\n  __extends(Delay, _super);\n\n  function Delay() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Delay.OptionName = \"delay\";\n  return Delay;\n}(nested_option_1.default);\n\nexports.Delay = Delay; // owners:\n// Animation\n\nvar Hide =\n/** @class */\nfunction (_super) {\n  __extends(Hide, _super);\n\n  function Hide() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Hide.OptionName = \"hide\";\n  return Hide;\n}(nested_option_1.default);\n\nexports.Hide = Hide; // owners:\n// ContextMenu\n\nvar Item =\n/** @class */\nfunction (_super) {\n  __extends(Item, _super);\n\n  function Item() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Item.OptionName = \"items\";\n  Item.IsCollectionItem = true;\n  Item.TemplateProps = [{\n    tmplOption: \"template\",\n    render: \"render\",\n    component: \"component\",\n    keyFn: \"keyFn\"\n  }];\n  return Item;\n}(nested_option_1.default);\n\nexports.Item = Item; // owners:\n// Position\n\nvar My =\n/** @class */\nfunction (_super) {\n  __extends(My, _super);\n\n  function My() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  My.OptionName = \"my\";\n  return My;\n}(nested_option_1.default);\n\nexports.My = My; // owners:\n// Position\n\nvar Offset =\n/** @class */\nfunction (_super) {\n  __extends(Offset, _super);\n\n  function Offset() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Offset.OptionName = \"offset\";\n  return Offset;\n}(nested_option_1.default);\n\nexports.Offset = Offset; // owners:\n// ContextMenu\n\nvar Position =\n/** @class */\nfunction (_super) {\n  __extends(Position, _super);\n\n  function Position() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Position.OptionName = \"position\";\n  Position.ExpectedChildren = {\n    at: {\n      optionName: \"at\",\n      isCollectionItem: false\n    },\n    boundaryOffset: {\n      optionName: \"boundaryOffset\",\n      isCollectionItem: false\n    },\n    collision: {\n      optionName: \"collision\",\n      isCollectionItem: false\n    },\n    my: {\n      optionName: \"my\",\n      isCollectionItem: false\n    },\n    offset: {\n      optionName: \"offset\",\n      isCollectionItem: false\n    }\n  };\n  return Position;\n}(nested_option_1.default);\n\nexports.Position = Position; // owners:\n// Animation\n\nvar Show =\n/** @class */\nfunction (_super) {\n  __extends(Show, _super);\n\n  function Show() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Show.OptionName = \"show\";\n  return Show;\n}(nested_option_1.default);\n\nexports.Show = Show; // owners:\n// ContextMenu\n\nvar ShowEvent =\n/** @class */\nfunction (_super) {\n  __extends(ShowEvent, _super);\n\n  function ShowEvent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ShowEvent.OptionName = \"showEvent\";\n  return ShowEvent;\n}(nested_option_1.default);\n\nexports.ShowEvent = ShowEvent; // owners:\n// ContextMenu\n\nvar ShowSubmenuMode =\n/** @class */\nfunction (_super) {\n  __extends(ShowSubmenuMode, _super);\n\n  function ShowSubmenuMode() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ShowSubmenuMode.OptionName = \"showSubmenuMode\";\n  ShowSubmenuMode.ExpectedChildren = {\n    delay: {\n      optionName: \"delay\",\n      isCollectionItem: false\n    }\n  };\n  return ShowSubmenuMode;\n}(nested_option_1.default);\n\nexports.ShowSubmenuMode = ShowSubmenuMode;\nexports.default = ContextMenu;","/*! eXpressApp Framework\n * @version v2018 vol 2\n * @link https://www.devexpress.com\n * @license https://www.devexpress.com/Support/EULAs/universal.xml \n * Copyright (C) 2000-2018 Developer Express Inc.  ALL RIGHTS RESERVED\n */\nexport var imageBorder = {\n  border: \"1px solid #ddd\"\n};","/*! eXpressApp Framework\n * @version v2018 vol 2\n * @link https://www.devexpress.com\n * @license https://www.devexpress.com/Support/EULAs/universal.xml \n * Copyright (C) 2000-2018 Developer Express Inc.  ALL RIGHTS RESERVED\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { getFileDataUrl } from \"./file-dialog\";\nimport { createWithStyleComponent } from \"../with-style\";\nvar emptyImageSrc = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIxMjBweCIgaGVpZ2h0PSIxMjBweCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyMCAxMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cG9seWdvbiBvcGFjaXR5PSIwLjE1IiBmaWxsPSIjOUI5QjlCIiBwb2ludHM9IjkwLjIsMzQuOCA0My43LDgxLjMgMjQuOSw2Mi41IDAsODcuNCAwLDEyMCAxMjAsMTIwIDEyMCw2NC41ICIvPgo8Y2lyY2xlIG9wYWNpdHk9IjAuMTUiIGZpbGw9IiM5QjlCOUIiIGN4PSIzOS4yIiBjeT0iMzIuNCIgcj0iMTIiLz4KPC9zdmc+Cg==\",\n    WithStyle = createWithStyleComponent({\n  main: {\n    minHeight: \"120px\",\n    minWidth: \"96px\"\n  },\n  image: {\n    height: \"inherit\",\n    width: \"inherit\",\n    overflow: \"hidden\",\n    display: \"block\"\n  }\n});\n\nvar FileImageContainer =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FileImageContainer, _super);\n\n  function FileImageContainer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.containerRef = React.createRef();\n\n    _this.onImageError = function () {\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          errorUrl: _this.props.src\n        });\n      });\n    };\n\n    _this.onValueChanged = function (args) {\n      return _this.props.onValueChanged && _this.props.onValueChanged(args);\n    };\n\n    _this.updateValue = function (imageValue) {\n      var file = imageValue.file;\n\n      if (_this.props.value !== file) {\n        _this.onValueChanged({\n          value: file\n        });\n      }\n\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          imageValue: imageValue\n        });\n      });\n    };\n\n    _this.clearValue = function () {\n      _this.setState(function (state) {\n        return tslib_1.__assign({}, state, {\n          ignoredSrc: _this.props.src\n        });\n      });\n\n      _this.onValueChanged({\n        value: null\n      });\n    };\n\n    _this.onClick = function (eventArgs) {\n      if (_this.props.readOnly !== true) {\n        if (_this.props.onEditFileRequest) {\n          _this.props.onEditFileRequest({\n            event: eventArgs\n          });\n        }\n      }\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  FileImageContainer.prototype.componentDidMount = function () {\n    this.syncValueWithDataUrl();\n  };\n\n  FileImageContainer.prototype.syncValueWithDataUrl = function () {\n    var _this = this;\n\n    if (this.props.value !== null && this.props.value !== (this.state.imageValue && this.state.imageValue.file)) {\n      getFileDataUrl(this.props.value, function (dataUrl) {\n        _this.updateValue({\n          dataUrl: dataUrl,\n          file: _this.props.value\n        });\n      });\n    }\n  };\n\n  FileImageContainer.prototype.getImageSrc = function (_a, _b) {\n    var src = _a.src,\n        value = _a.value;\n    var imageValue = _b.imageValue,\n        errorUrl = _b.errorUrl,\n        ignoredSrc = _b.ignoredSrc;\n\n    if (value !== null && imageValue && value === imageValue.file) {\n      return imageValue.dataUrl;\n    } else if (errorUrl === src || ignoredSrc === src) {\n      return null;\n    } else {\n      return src;\n    }\n  };\n\n  FileImageContainer.prototype.render = function () {\n    var _this = this;\n\n    var imageSrc = this.getImageSrc(this.props, this.state),\n        isEmpty = !imageSrc,\n        src = isEmpty ? emptyImageSrc : imageSrc;\n    return React.createElement(WithStyle, null, function (classes) {\n      return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n        className: classes.main + \" \" + classes.image + \" image-border-radius\",\n        src: src,\n        onError: _this.onImageError,\n        onClick: _this.onClick,\n        ref: _this.props.containerRef\n      }), _this.props.children({\n        isEmpty: isEmpty,\n        imageSrc: imageSrc,\n        updateValue: _this.updateValue,\n        clearValue: _this.clearValue\n      }));\n    });\n  };\n\n  FileImageContainer.defaultProps = {\n    value: null\n  };\n  return FileImageContainer;\n}(React.PureComponent);\n\nexport { FileImageContainer };"],"sourceRoot":""}